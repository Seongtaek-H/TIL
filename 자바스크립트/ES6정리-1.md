### this

##### 1. this만 그냥 쓰거나 일반 함수안에서 쓰면 {window}

window는 모든 전역변수, 함수, DOM 을 보관하고 관리하는 전역 객체임

strict mode(IE 10이상) 에서 일반 함수 안에서 쓰면 undefined

##### 2. 오브젝트 내 함수(메소드) 안에서 쓰면 그 함수를 가지고 있는 오브젝트를 뜻함

Arrow function 에서 쓰면 {window} 

사실 1번, 2번은 같은 얘기인게 {window}가 전역변수, 함수를 가지고 있는 global object이기 때문

##### 3. constructor 안에서 쓰면 constructor로 새로 생성되는 오브젝트(instance)를 뜻함

constructor : 오브젝트를 복사해서 생성해주는 것

this : constructor로부터 새로 생성될 오브젝트

```js
function 기계(){
  this.이름 = 'Kim';
}
```

constructor에서 오브젝트 뽑는법

```js
function 기계(){
  this.이름 = 'Kim'
}
var 오브젝트 = new 기계(); // 기계 {이름 : 'kim'}
```

##### 4. eventlistener 안에서 쓰면 this는 e.currentTarget

```js
document.getElementById('버튼').addEventListener('click', function(e){
  console.log(this)
});
```

e.currentTarget : 지금 이벤트가 동작하는  곳. addEventListener 부착된 HTML 요소



콜백함수 : 함수 안에 파라미터 역할로 들어가는 함수

콜백함수에서 this를 출력한다면?

```js
document.getElementById('버튼').addEventListener('click', function(e){
  var 어레이 = [1,2,3];
  어레이.forEach(function(){
    console.log(this) // {window}
  });
});
```

일반 함수에서 쓰인 것이기 때문에 {window} 출력



오브젝트 내에서 콜백함수를 쓴다면 this는?

```js
var 오브젝트 = {
  이름들 : ['김', '이', '박'];
  함수 : function(){
    console.log(this); // 오브젝트 출력 {이름들 : [], 함수...}
      오브젝트.이름들.forEach(function(){
        console.log(this) // {window}
      });
  }
}
```



arrow function 안에서의 this는?

```js
var 오브젝트 = {
  이름들 : ['김', '이', '박'];
  함수 : function(){
      오브젝트.이름들.forEach(() => {
        console.log(this) // 오브젝트 출력 {이름들 : [], 함수...}
      });
  }
}
```

arrow function 특징 : 내부 this값을 변화시키지 않음 (외부 this 값 그대로 재사용 가능)